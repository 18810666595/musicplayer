webpackJsonp([0],[function(n,t){},function(n,t){},function(n,t){},function(n,t){},function(n,t){},,function(n,t,i){"use strict";function c(){u.a.ajax({type:"get",url:"http://api.jirengu.com/fm/getChannels.php",dataType:"json"}).then(function(n){a(n)},function(n){alert("获取专辑失败")})}function a(n){var t="";n.channels.forEach(function(n){t+="<li data-channel-id = "+n.channel_id+"> "+n.name+" </li>"}),v.html(t)}function l(n){var t="http://api.jirengu.com/fm/getSong.php?channel="+n;u.a.ajax({type:"get",url:t,dataType:"json"}).then(function(n){e(n),s()},function(n){alert("音乐播放失败")})}function e(n){b.artist=n.song[0].artist,b.lrc=n.song[0].lrc,b.picture=n.song[0].picture,b.sid=n.song[0].sid,b.title=n.song[0].title,b.url=n.song[0].url;b.atrist,b.lrc,b.picture,b.sid,b.title,b.url;u()("main>h2").text(b.title),u()("main>p").text(b.artist),u()("main .pic").html('<img src="'+b.picture+'">'),g.src=b.url,g.play()}function s(){var n="http://api.jirengu.com/fm/getLyric.php?&sid="+b.sid;u.a.ajax({type:"get",url:n,dataType:"json"}).then(function(n){console.log(n),o(n)},function(n){alert("歌词获取失败")})}function o(n){u()("main>pre").html(n.lyric)}Object.defineProperty(t,"__esModule",{value:!0});var r=i(5),u=i.n(r),p=i(0),d=(i.n(p),i(1)),f=(i.n(d),i(2)),h=(i.n(f),i(4)),y=(i.n(h),i(3)),g=(i.n(y),new Audio);g.autoPlay=!0;var m=u()(".album"),v=u()(".album-list"),x=u()(".control .icon-play"),j=u()(".control .icon-pause"),k=u()(".control .next"),C=u()(".control .pre"),I=u()(".disc"),b={channelId:"",atrist:"",lrc:"",picture:"",sid:"",title:"",url:""};u()(l),m.on("click",function(){c(),v.toggleClass("hidden")}),m.on("click","li",function(n){n.stopPropagation();var t=u()(this).data("channel-id");b.channelId=t,console.log(t),l(b.channelId),j.css("display","none"),x.css("display","flex"),I.addClass("active"),v.css("display","none")}),k.on("click",function(){l(b.channelId),j.css("display","none"),x.css("display","flex"),I.addClass("active")}),C.on("click",function(){l(b.channelId),j.css("display","none"),x.css("display","flex"),I.addClass("active")}),x.on("click",function(){g.pause(),x.css("display","none"),j.css("display","flex"),I.removeClass("active")}),j.on("click",function(){g.play(),j.css("display","none"),x.css("display","flex"),I.addClass("active")})}],[6]);
//# sourceMappingURL=app.0586a8a52a3e1b950adf.js.map