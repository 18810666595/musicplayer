{"version":3,"sources":["webpack:///static/js/app.009ee19a01c24209db39.js","webpack:///./src/js/index.js"],"names":["webpackJsonp","module","exports","__webpack_exports__","__webpack_require__","getMusicAlbum","__WEBPACK_IMPORTED_MODULE_0_jquery___default","a","ajax","type","url","dataType","then","data","appendMusicAlbum","error","alert","albumString","channels","forEach","item","channel_id","name","$albumList","html","getMusicRandom","id","musicUrl","appendMusicInfo","getLrc","music","artist","song","lrc","picture","sid","title","atrist","text","audioObject","src","play","lrcUrl","console","log","appendLic","lyric","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_jquery__","n","__WEBPACK_IMPORTED_MODULE_1_normalize_css__","__WEBPACK_IMPORTED_MODULE_2__css_common_css__","__WEBPACK_IMPORTED_MODULE_3__css_iconfont_css__","__WEBPACK_IMPORTED_MODULE_4__css_timeline_scss__","__WEBPACK_IMPORTED_MODULE_5__css_index_scss__","Audio","autoPlay","$album","$play","$pause","$next","$pre","$disc","channelId","on","toggleClass","e","stopPropagation","this","css","addClass","pause","removeClass"],"mappings":"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","file":"static/js/app.009ee19a01c24209db39.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 5 */,\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_normalize_css__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_normalize_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_normalize_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_common_css__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__css_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__css_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__css_iconfont_css__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__css_iconfont_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__css_iconfont_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__css_timeline_scss__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__css_timeline_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__css_timeline_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__css_index_scss__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__css_index_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__css_index_scss__);\n\n\n\n\n\n\n\nvar audioObject = new Audio();\naudioObject.autoPlay = true;\n\nvar $album = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".album\");\nvar $albumList = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".album-list\");\nvar $play = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".control .icon-play\");\nvar $pause = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".control .icon-pause\");\nvar $next = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".control .next\");\nvar $pre = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".control .pre\");\nvar $disc = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\".disc\");\n\nvar music = {\n  channelId: \"\",\n  atrist: \"\",\n  lrc: \"\",\n  picture: \"\",\n  sid: \"\",\n  title: \"\",\n  url: \"\" };\n\n__WEBPACK_IMPORTED_MODULE_0_jquery___default()(getMusicRandom);\n\n$album.on(\"click\", function () {\n  getMusicAlbum();\n  $albumList.toggleClass(\"hidden\");\n});\n\n$album.on(\"click\", \"li\", function (e) {\n  e.stopPropagation();\n  var id = __WEBPACK_IMPORTED_MODULE_0_jquery___default()(this).data(\"channel-id\");\n  music.channelId = id;\n  console.log(id);\n  getMusicRandom(music.channelId);\n  $pause.css(\"display\", \"none\");\n  $play.css(\"display\", \"flex\");\n  $disc.addClass(\"active\");\n  $albumList.css('display', 'none');\n});\n\n$next.on(\"click\", function () {\n  getMusicRandom(music.channelId);\n  $pause.css(\"display\", \"none\");\n  $play.css(\"display\", \"flex\");\n  $disc.addClass(\"active\");\n});\n\n$pre.on(\"click\", function () {\n  getMusicRandom(music.channelId);\n  $pause.css(\"display\", \"none\");\n  $play.css(\"display\", \"flex\");\n  $disc.addClass(\"active\");\n});\n\n$play.on(\"click\", function () {\n  audioObject.pause();\n  $play.css(\"display\", \"none\");\n  $pause.css(\"display\", \"flex\");\n  $disc.removeClass(\"active\");\n});\n\n$pause.on(\"click\", function () {\n  audioObject.play();\n  $pause.css(\"display\", \"none\");\n  $play.css(\"display\", \"flex\");\n  $disc.addClass(\"active\");\n});\n\nfunction getMusicAlbum() {\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.ajax({\n    type: 'get',\n    url: \"https://jirenguapi.applinzi.com/fm/getChannels.php\",\n    dataType: \"json\"\n  }).then(function (data) {\n    appendMusicAlbum(data);\n  }, function (error) {\n    alert('获取专辑失败');\n  });\n}\n\nfunction appendMusicAlbum(data) {\n  var albumString = \"\";\n\n  data.channels.forEach(function (item) {\n    albumString += '<li data-channel-id = ' + item.channel_id + '> ' + item.name + ' </li>';\n  });\n\n  $albumList.html(albumString);\n}\n\nfunction getMusicRandom(id) {\n  var musicUrl = \"https://jirenguapi.applinzi.com/fm/getSong.php?channel=\" + id;\n\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.ajax({\n    type: 'get',\n    url: musicUrl,\n    dataType: \"json\"\n  }).then(function (data) {\n    appendMusicInfo(data);\n    getLrc();\n  }, function (error) {\n    alert('音乐播放失败');\n  });\n}\n\nfunction appendMusicInfo(data) {\n  music.artist = data.song[0].artist;\n  music.lrc = data.song[0].lrc;\n  music.picture = data.song[0].picture;\n  music.sid = data.song[0].sid;\n  music.title = data.song[0].title;\n  music.url = data.song[0].url;\n\n  var musicDetail = '<p> <h3>atrist</h3> ' + music.atrist + ' <p>\\n    <p> <h3>lrc</h3> ' + music.lrc + ' </p>\\n    <p> <h3>picture</h3> ' + music.picture + '</p>\\n    <p> <h3>sid</h3> ' + music.sid + ' </p>\\n    <p> <h3>title</h3> ' + music.title + ' </p>\\n    <p> <h3>url</h3> ' + music.url + ' </p>\\n    ';\n\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"main>h2\").text(music.title);\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"main>p\").text(music.artist);\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"main .pic\").html('<img src=\"' + music.picture + '\">');\n  audioObject.src = music.url;\n  audioObject.play();\n}\n\nfunction getLrc() {\n  var lrcUrl = \"https://jirenguapi.applinzi.com/fm/getLyric.php?&sid=\" + music.sid;\n\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default.a.ajax({\n    type: 'get',\n    url: lrcUrl,\n    dataType: \"json\"\n  }).then(function (data) {\n    console.log(data);\n    appendLic(data);\n  }, function (error) {\n    alert('歌词获取失败');\n  });\n}\n\nfunction appendLic(data) {\n  __WEBPACK_IMPORTED_MODULE_0_jquery___default()(\"main>pre\").html(data.lyric);\n}\n\n/***/ })\n],[6]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.009ee19a01c24209db39.js","import $ from 'jquery'\r\nimport 'normalize.css'\r\nimport '../css/common.css'\r\nimport '../css/iconfont.css'\r\nimport '../css/timeline.scss'\r\nimport '../css/index.scss'\r\n\r\nvar audioObject = new Audio()\r\naudioObject.autoPlay = true\r\n\r\nvar $album = $(\".album\")\r\nvar $albumList = $(\".album-list\")\r\nvar $play = $(\".control .icon-play\")\r\nvar $pause = $(\".control .icon-pause\")\r\nvar $next = $(\".control .next\")\r\nvar $pre = $(\".control .pre\")\r\nvar $disc = $(\".disc\")\r\n\r\n\r\n\r\nvar music = {\r\n  channelId: \"\", //专辑的ID\r\n  atrist: \"\", //演唱者\r\n  lrc: \"\", //歌词的下载地址\r\n  picture: \"\", //歌曲的图片\r\n  sid: \"\", //歌词的 ID\r\n  title: \"\", //歌曲的标题\r\n  url: \"\", //歌曲的地址\r\n}\r\n\r\n$(getMusicRandom)\r\n\r\n//点击获取专辑按钮\r\n$album.on(\"click\", function(){\r\n  getMusicAlbum()\r\n  $albumList.toggleClass(\"hidden\")\r\n})\r\n\r\n//给专辑的每个列表绑定点击获取随机音乐事件\r\n$album.on(\"click\", \"li\", function(e) {\r\n  e.stopPropagation();\r\n  var id = $(this).data(\"channel-id\")\r\n  music.channelId = id;\r\n  console.log(id);\r\n  getMusicRandom(music.channelId) //根据 id 获取随机音乐\r\n  $pause.css(\"display\", \"none\")\r\n  $play.css(\"display\", \"flex\")\r\n  $disc.addClass(\"active\")\r\n  $albumList.css('display', 'none')\r\n})\r\n\r\n$next.on(\"click\", function(){\r\n  getMusicRandom(music.channelId)\r\n  $pause.css(\"display\", \"none\")\r\n  $play.css(\"display\", \"flex\")\r\n  $disc.addClass(\"active\")\r\n})\r\n\r\n$pre.on(\"click\", function(){\r\n  getMusicRandom(music.channelId)\r\n  $pause.css(\"display\", \"none\")\r\n  $play.css(\"display\", \"flex\")\r\n  $disc.addClass(\"active\")\r\n})\r\n\r\n$play.on(\"click\", function() {\r\n  audioObject.pause()\r\n  $play.css(\"display\", \"none\")\r\n  $pause.css(\"display\", \"flex\")\r\n  $disc.removeClass(\"active\")\r\n})\r\n\r\n$pause.on(\"click\", function() {\r\n  audioObject.play()\r\n  $pause.css(\"display\", \"none\")\r\n  $play.css(\"display\", \"flex\")\r\n  $disc.addClass(\"active\")\r\n})\r\n\r\n//获取音乐专辑\r\nfunction getMusicAlbum() {\r\n  $.ajax({\r\n    type: 'get',\r\n    url: \"https://jirenguapi.applinzi.com/fm/getChannels.php\",\r\n    dataType: \"json\",\r\n  }).then((data) => {\r\n    appendMusicAlbum(data);\r\n  }, (error) => {\r\n    alert('获取专辑失败');\r\n  })\r\n}\r\n\r\n//渲染音乐专辑\r\nfunction appendMusicAlbum(data) {\r\n  var albumString = \"\"\r\n  // console.log(data);\r\n  data.channels.forEach((item) => {\r\n    albumString += `<li data-channel-id = ${item.channel_id}> ${item.name} </li>`\r\n  })\r\n\r\n  $albumList.html(albumString);\r\n  //...............\r\n}\r\n\r\n//获取随机音乐\r\nfunction getMusicRandom(id) {\r\n  var musicUrl = \"https://jirenguapi.applinzi.com/fm/getSong.php?channel=\" + id\r\n  //console.log(url);\r\n  $.ajax({\r\n    type: 'get',\r\n    url: musicUrl,\r\n    dataType: \"json\",\r\n  }).then((data) => {\r\n    //console.log(data);\r\n    appendMusicInfo(data);\r\n    getLrc()\r\n  }, (error) => {\r\n    alert('音乐播放失败')\r\n  })\r\n}\r\n\r\n//渲染音乐信息\r\nfunction appendMusicInfo(data) {\r\n  //console.log(data.song[0]);\r\n  music.artist = data.song[0].artist\r\n  music.lrc = data.song[0].lrc\r\n  music.picture = data.song[0].picture\r\n  music.sid = data.song[0].sid\r\n  music.title = data.song[0].title\r\n  music.url = data.song[0].url\r\n  //console.log(music);\r\n  var musicDetail =\r\n    `<p> <h3>atrist</h3> ${music.atrist} <p>\r\n    <p> <h3>lrc</h3> ${music.lrc} </p>\r\n    <p> <h3>picture</h3> ${music.picture}</p>\r\n    <p> <h3>sid</h3> ${music.sid} </p>\r\n    <p> <h3>title</h3> ${music.title} </p>\r\n    <p> <h3>url</h3> ${music.url} </p>\r\n    `\r\n  // $musicInfo.html(musicDetail)\r\n  $(\"main>h2\").text(music.title)\r\n  $(\"main>p\").text(music.artist)\r\n  $(\"main .pic\").html(`<img src=\"${music.picture}\">`)\r\n  audioObject.src = music.url\r\n  audioObject.play()\r\n\r\n}\r\n\r\n//获取歌词\r\nfunction getLrc() {\r\n  var lrcUrl = \"https://jirenguapi.applinzi.com/fm/getLyric.php?&sid=\" + music.sid;\r\n  // console.log(lrcUrl);\r\n  $.ajax({\r\n    type: 'get',\r\n    url: lrcUrl,\r\n    dataType: \"json\",\r\n  }).then((data) => {\r\n    console.log(data);\r\n    appendLic(data);\r\n  }, (error) => {\r\n    alert('歌词获取失败')\r\n  })\r\n}\r\n\r\n//渲染歌词\r\nfunction appendLic(data) {\r\n  $(\"main>pre\").html(data.lyric)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js"],"sourceRoot":""}